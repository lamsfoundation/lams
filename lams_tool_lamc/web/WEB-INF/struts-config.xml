<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">
<struts-config>
	  <!-- ========== Form Bean Definitions =================================== -->
	<form-beans>
		<form-bean name="McAuthoringForm" type="org.lamsfoundation.lams.tool.mc.web.McAuthoringForm"/>
		<form-bean name="McLearningForm" type="org.lamsfoundation.lams.tool.mc.web.McLearningForm"/>
		<form-bean name="McMonitoringForm" type="org.lamsfoundation.lams.tool.mc.web.McMonitoringForm"/>
		<form-bean name="McExportForm" type="org.lamsfoundation.lams.tool.mc.web.McExportForm"/>		
	</form-beans>
	
  	<!-- ========== Global Exception Definitions =================================== -->
	<global-exceptions>
	      <exception
	        key="error.system.mc"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.util.CustomStrutsExceptionHandler"
	        path="/SystemErrorContent.jsp"
	        scope="request"
	      />
	</global-exceptions>

 	<!-- ========== Global Forward Definitions =================================== -->
   	<global-forwards>
		<forward name="starter" path="/authoringStarter"/>   
	</global-forwards>
	
  <!-- ========== Action Mapping Definitions =================================== -->
  <action-mappings>
	<!--Authoring Starter Action: initializes the authoring module -->
   <action path="/authoringStarter" 
   			type="org.lamsfoundation.lams.tool.mc.web.McStarterAction" 
   			name="McAuthoringForm" 
   			input="/index.jsp"> 
	
		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			

	  	<forward
		    name="load"
		    path="/authoring/AuthoringMaincontent.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="loadMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="true"
	  	/>
	  	
	  	<forward
		    name="loadLearner"
		    path="/learning/AnswersContent.jsp"
		    redirect="true"
	  	/>

	  	<forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	     />
	     
	     <forward
	        name="preview"
	        path="/learning/Preview.jsp"
	        redirect="true"
	     />
	  	
	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	</action>  
	

	<!--Authoring Main Action : interacts with the authoring module user-->
	<action path="/authoring"
	      	type="org.lamsfoundation.lams.tool.mc.web.McAction"
    	  	name="McAuthoringForm"
	      	scope="session"
    	  	input="/authoring/AuthoringMaincontent.jsp"
      		parameter="dispatch"
      		unknown="false"
      		validate="true">
	
		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			      		
    	
	      <forward
	        name="load"
	        path="/authoring/AuthoringMaincontent.jsp"
	        redirect="true"
	      />
	    
	      <forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	      />
	      
	  	<forward
		    name="loadMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="true"
	  	/>

	     <forward
	        name="preview"
	        path="/learning/Preview.jsp"
	        redirect="true"
	     />
	  	
	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	      
    </action>
    
    
   <!--Define Later Starter Action: initializes the DefineLater module -->
   <action path="/defineLaterStarter" 
   			type="org.lamsfoundation.lams.tool.mc.web.McDLStarterAction" 
   			name="McAuthoringForm" 
   			input="/index.jsp"> 
	
		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			   			

	  	<forward
		    name="load"
		    path="/authoring/AuthoringMaincontent.jsp"
		    redirect="true"
	  	/>
	  	
	  	<forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	     />
	  	
	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	</action>  
    

   <!--Learning Starter Action: initializes the Learning module -->
   <action 	path="/learningStarter" 
   			type="org.lamsfoundation.lams.tool.mc.web.McLearningStarterAction" 
   			name="McLearningForm" 
   			input="/learningIndex.jsp"> 

		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			   			

	  	<forward
		    name="loadLearner"
		    path="/learning/AnswersContent.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="viewAnswers"
		    path="/learning/ViewAnswers.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="redoQuestions"
		    path="/learning/RedoQuestions.jsp"
		    redirect="true"
	  	/>
	  	
	     <forward
	        name="preview"
	        path="/learning/Preview.jsp"
	        redirect="true"
	     />

	  	<forward
		    name="learningStarter"
		    path="/learningIndex.jsp"
		    redirect="true"
	  	/>
	  	
	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	</action>  
	
	
   <!--Learning Main Action: interacts with the Learning module user -->
	<action	path="/learning"
		    type="org.lamsfoundation.lams.tool.mc.web.McLearningAction"
			name="McLearningForm"
      		scope="session"
      		input="/learning/AnswersContent.jsp"
      		parameter="method"
      		unknown="false"
      		validate="true">
	
		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			      		

	  	<forward
		    name="loadLearner"
		    path="/learning/AnswersContent.jsp"
		    redirect="true"
	  	/>
	  	
	  	<forward
		    name="individualReport"
		    path="/learning/IndividualLearnerResults.jsp"
		    redirect="true"
	  	/>
	  	
	  	<forward
		    name="redoQuestions"
		    path="/learning/RedoQuestions.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="viewAnswers"
		    path="/learning/ViewAnswers.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="resultsSummary"
		    path="/learning/ResultsSummary.jsp"
		    redirect="true"
	  	/>

	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>

	  	<forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	     />

	  	<forward
		    name="learningStarter"
		    path="/learningIndex.jsp"
		    redirect="true"
	  	/>

	     <forward
	        name="preview"
	        path="/learning/Preview.jsp"
	        redirect="true"
	     />
    </action>
    
    
    <!--Monitoring Starter Action: initializes the Monitoring module -->
   <action 	path="/monitoringStarter" 
   			type="org.lamsfoundation.lams.tool.mc.web.McMonitoringStarterAction" 
   			name="McMonitoringForm" 
   			input="/monitoringIndex.jsp"> 

		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			   			
   			
	  	<forward
		    name="loadMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="true"
	  	/>

       <forward
	        name="load"
	        path="/authoring/AuthoringMaincontent.jsp"
	        redirect="true"
	    />
	    
	    <forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	     />

	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	</action>  
    
   
   <!--Monitoring Main Action: interacts with the Monitoring module user -->
   <action 	path="/monitoring" 
   			type="org.lamsfoundation.lams.tool.mc.web.McMonitoringAction" 
   			name="McMonitoringForm" 
	      	scope="session"
   			input="/monitoring/MonitoringMaincontent.jsp"
      		parameter="method"
      		unknown="false"
      		validate="true"> 

		<exception
	        key="error.exception.McApplication"
	        type="org.lamsfoundation.lams.tool.mc.McApplicationException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />

		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			      		

	  	<forward
		    name="loadMonitoring"
		    path="/monitoring/MonitoringMaincontent.jsp"
		    redirect="true"
	  	/>

       <forward
	        name="load"
	        path="/authoring/AuthoringMaincontent.jsp"
	        redirect="true"
	    />
	    
	    <forward
	        name="starter"
	        path="/index.jsp"
	        redirect="true"
	     />

	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
	</action>  

   <!--Export Prtfolio Action -->
	    <action
		      path="/exportPortfolio"
		      type="org.lamsfoundation.lams.tool.mc.web.McExportAction"
		      name="McExportForm"
		      scope="session"
		      parameter="mode"
		      unknown="false"
		      validate="false"
	    >
		<exception
	        key="error.exception.McApplication"
	        type="java.lang.NullPointerException"
	        handler="org.lamsfoundation.lams.tool.mc.web.CustomStrutsExceptionHandler"
	        path="/McErrorBox.jsp"
	        scope="request"
	      />	         			      		
	      <forward
	        name="exportPortfolio"
	        path="/exportPortfolio.jsp"
	        redirect="false"
	      />
	  	<forward
		    name="errorList"
		    path="/McErrorBox.jsp"
		    redirect="true"
	  	/>
    </action>
 </action-mappings>
	
	<message-resources parameter="org.lamsfoundation.lams.tool.mc.McResources"/>
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles/tiles-defs.xml" />
		<set-property property="definitions-debug" value="0" />
		<set-property property="definitions-parser-details" value="0" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>
</struts-config>
